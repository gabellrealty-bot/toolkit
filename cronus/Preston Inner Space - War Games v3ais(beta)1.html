<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Starship Systems Sim â€“ Crew Tokens</title>
<style>
  body {
    margin: 0;
    background: #000;
    font-family: Arial, sans-serif;
    color: #fff;
  }

  .container {
    display: grid;
    grid-template-columns: 250px 1fr 300px;
    height: 100vh;
  }

  .left-panel, .right-panel {
    background: #111;
    padding: 10px;
    overflow-y: auto;
  }
  .left-panel { border-right: 2px solid #333; }
  .right-panel { border-left: 2px solid #333; }

  .map-area {
    position: relative;
    background: #000;
  }

  .map-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    display: block;
  }

  .grid-overlay {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    display: grid;
    grid-template-columns: repeat(40, 1fr);
    grid-template-rows: repeat(40, 1fr);
  }
  .grid-overlay div {
    border: 1px solid rgba(255,255,255,0.08);
    cursor: pointer;
    position: relative;
  }

  /* Crew token style */
  .crew-token {
    width: 80%;
    height: 80%;
    border-radius: 50%;
    margin: auto;
  }

  h2 {
    margin-top: 0;
    border-bottom: 1px solid #444;
    padding-bottom: 5px;
  }
</style>
</head>
<body>
<div class="container">

  <!-- Left Panel -->
  <div class="left-panel">
    <h2>Crew</h2>
    <button onclick="setActiveCrew('Rosa')">ğŸ‘§ Rosa</button>
    <button onclick="setActiveCrew('Bessy')">ğŸ‘§ Bessy</button>
    <button onclick="setActiveCrew('Maria')">ğŸ‘§ Maria</button>
    <button onclick="setActiveCrew('Neon')">ğŸ‘§ Neon</button>
    <button onclick="setActiveCrew('Sieta')">ğŸ§‘â€ğŸš€ Sieta</button>
    <button onclick="setActiveCrew('Bessy Jr')">ğŸ‘©â€ğŸ­ Bessy Jr</button>
    <button onclick="setActiveCrew('Joshua')">ğŸ§‘â€ğŸš€ Joshua</button>
    <button onclick="setActiveCrew('Isabella')">ğŸ‘©â€ğŸ­ Isabella</button>
    <button onclick="setActiveCrew('Bei')">ğŸ‘§ Bei</button>
    <button onclick="setActiveCrew('Lucina')">ğŸ‘§ Lucina</button>
    <button onclick="setActiveCrew('Helena')">ğŸ‘§ Helena</button>

    <h2>Resources</h2>
    <p id="power">Power: 100%</p>
    <p id="oxygen">Oxygen: 100%</p>
    <p id="fuel">Fuel: 100%</p>
    <p id="coolant">Coolant: 100%</p>
	
	<h2>Icons: Services</h2>
<div class="icon-placeholder">
  <img src="icons-services.jpg" alt="Icons Menu" style="width:100%; height:auto;">
</div>


    <h2>Maps</h2>
    <button onclick="setMap('cronus-map.a.jpg')">Deck A</button>
    <button onclick="setMap('cronus-map.b.jpg')">Deck B</button>
    <button onclick="setMap('cronus-map.c.jpg')">Deck C</button>
    <button onclick="setMap('cronus-map.d.jpg')">Deck D</button>
  </div>

  <!-- Map Area -->
  <div class="map-area">
    <img id="mapImage" class="map-image" src="cronus-map.jpeg" alt="Ship Map">
    <div class="grid-overlay" id="grid"></div>
  </div>
  

  <!-- Right Panel -->
  <div class="right-panel">
    <h2>Ship Systems</h2>
    <p>Reactor: Offline</p>
    <p>Life Support: Offline</p>
    <p>Engines: Offline</p>
    <p>Comms: Offline</p>

<div>
<h2>Trigger Events</h2>
<button onclick="reactorFailure()">Reactor Failure</button>
<button onclick="oxygenLeak()">Oxygen Leak</button>
<button onclick="coolantSpike()">Coolant Spike</button>
<button onclick="engineStress()">Engine Stress</button>
</div>



    <h2>Events</h2>
    <div id="eventLog">No events yet.</div>

    <h2>Crew Stats</h2>
    <div id="crewStats"></div>
  </div>

</div>

<script>
// =======================================================
// Starship War Games Simulation - Unified Script
// =======================================================

// ---------- Resources ----------
let resources = { power:100, oxygen:100, fuel:100, coolant:100 };

// ---------- Crew ----------
const crewStats = {
  "Sieta": {health:100,fatigue:0,morale:100,role:"captain"},
  "Rosa":  {health:100,fatigue:0,morale:100,role:"crew"},
  "Lucina":{health:100,fatigue:0,morale:100,role:"crew"},
  "Neon":  {health:100,fatigue:0,morale:100,role:"crew"}
};
const crewColors = { "Sieta":"cyan","Rosa":"pink","Lucina":"teal","Neon":"lime" };
const crewTokens = {};
const crewPositions = {};
let activeCrew = "Sieta";
let currentDeck = "B"; // default deck

// ---------- UI Updates ----------
function updateResources(){
  document.getElementById("resources").innerText =
    `O2:${resources.oxygen}% | Power:${resources.power}% | Fuel:${resources.fuel}% | Coolant:${resources.coolant}%`;
}
function updateCrewStats(){
  const s = crewStats[activeCrew];
  document.getElementById("crewStats").innerText =
    `${activeCrew} (Role:${s.role}) Health:${s.health}% | Fatigue:${s.fatigue}% | Morale:${s.morale}%`;
}

// ---------- System Events ----------
function reactorFailure(){
  resources.power = Math.max(0,resources.power-20);
  updateResources();
  document.getElementById("eventLog").innerText = "âš ï¸ Reactor failure! Power drained by 20%.";
}

// ---------- Room Maps ----------
const roomsA = {
  "Cryo 1":{rows:[17,21],cols:[15,19],effect:(c)=>{crewStats[c].health=100;crewStats[c].fatigue=0;updateCrewStats();}},
  "MU/TH/UR 2000":{rows:[19,23],cols:[29,33],effect:(c)=>{crewStats[c].morale+=10;updateCrewStats();}}
};
const roomsB = {
  "Bridge":{rows:[19,23],cols:[34,38],effect:(c)=>{crewStats[c].morale+=2;updateCrewStats();}},
  "Med Lab":{rows:[15,19],cols:[12,16],effect:(c)=>{crewStats[c].health+=20;updateCrewStats();}},
  "Reactor Core":{rows:[19,23],cols:[7,11],effect:(c)=>{reactorFailure();crewStats[c].morale-=5;updateCrewStats();}}
};
const roomsC = {
  "Cargo Bay 1":{rows:[14,18],cols:[19,23],effect:(c)=>{crewStats[c].morale+=10;updateCrewStats();}},
  "Junction C-2":{rows:[19,23],cols:[7,11],effect:(c)=>{reactorFailure();crewStats[c].morale-=10;updateCrewStats();}}
};
const roomsD = {
  "Vehicle Bay":{rows:[19,23],cols:[17,21],effect:(c)=>{crewStats[c].morale+=5;updateCrewStats();}},
  "Dispatch Office":{rows:[25,29],cols:[7,11],effect:(c)=>{crewStats[c].fatigue+=5;crewStats[c].morale-=10;updateCrewStats();}}
};

// ---------- Crew Movement ----------
function crewMove(row,col,name){
  let deckRooms = currentDeck==="A"?roomsA:currentDeck==="B"?roomsB:currentDeck==="C"?roomsC:roomsD;
  let inRoom=false;
  for(const room in deckRooms){
    const {rows,cols,effect}=deckRooms[room];
    if(row>=rows[0]&&row<=rows[1]&&col>=cols[0]&&col<=cols[1]){
      document.getElementById("eventLog").innerText=`${name} arrived at Row ${row+1}, Col ${col+1} (${room})`;
      if(effect) effect(name);
      inRoom=true; break;
    }
  }
  if(!inRoom){
    resources.oxygen--; resources.power--;
    crewStats[name].fatigue+=2; crewStats[name].morale--;
    document.getElementById("eventLog").innerText=`${name} arrived at Row ${row+1}, Col ${col+1}`;
  }
  updateResources(); updateCrewStats();
}

// ---------- Map Switching ----------
function setMap(filename){
  document.getElementById("mapImage").src=filename;
  const match=filename.match(/cronus-map\.([abcd])/i);
  if(match) currentDeck=match[1].toUpperCase();
  resources.fuel=Math.max(0,resources.fuel-5);
  updateResources();
  document.getElementById("eventLog").innerText=`Switched to ${filename} (Deck ${currentDeck})`;
  for(const crew in crewTokens){ if(crewTokens[crew]){crewTokens[crew].remove(); crewTokens[crew]=null; crewPositions[crew]=null;} }
}

// ---------- Build Grid ----------
const grid=document.getElementById("grid");
for(let row=0;row<40;row++){
  for(let col=0;col<40;col++){
    const cell=document.createElement("div");
    cell.dataset.row=row; cell.dataset.col=col;
    cell.addEventListener("click",()=>{
      if(!crewTokens[activeCrew]){
        const token=document.createElement("div");
        token.className="crew-token"; token.style.backgroundColor=crewColors[activeCrew];
        cell.appendChild(token); crewTokens[activeCrew]=token; crewPositions[activeCrew]={row,col};
      }
      crewMove(row,col,activeCrew);
    });
    grid.appendChild(cell);
  }
}

// ---------- Init ----------
updateResources(); updateCrewStats();
setMap("cronus-map.b.jpg");
</script>


</body>
</html>

